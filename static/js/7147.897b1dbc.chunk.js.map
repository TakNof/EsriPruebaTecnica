{"version":3,"file":"static/js/7147.897b1dbc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/elevation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.30/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Ground.js\";import t from\"../../../core/Logger.js\";import{getMetersPerUnitForSR as o}from\"../../../core/unitUtils.js\";import n from\"../../Mesh.js\";import{project as r}from\"../../projection.js\";import{compactIndices as i}from\"../Indices.js\";import a from\"../MeshComponent.js\";import{MeshVertexAttributes as s}from\"../MeshVertexAttributes.js\";import l from\"../../Point.js\";async function m(o,n,r){let i;if(p(o)||o instanceof e){const e=await u(o);return i=await e.createElevationSampler(n,{demResolution:r?.demResolution??\"finest-contiguous\"}),c(i,n,{material:r?.material})}return\"string\"==typeof r?.demResolution?(t.getLogger(\"esri.geometry.support.meshUtils.elevation\").error(\"create()\",\"demResolution must be a number when used directly with a sampler\"),null):c(o,n,{material:r?.material,demResolution:r?.demResolution})}function c(e,t,l){const m=o(t.spatialReference),c=(l?.demResolution??e.demResolution.min)/m,u=Math.round(t.width/c),p=Math.round(t.height/c),d=u+1,h=p+1,y=new Float64Array(d*h*3),R=new Float32Array(d*h*2);let w=0,g=0;const j=new Uint32Array(u*p*2*3);let v=0,A=0;const x=!e.spatialReference.equals(t.spatialReference);f.spatialReference=t.spatialReference;const{xmin:b,ymin:M,height:U,width:F}=t;for(let o=0;o<h;o++){const t=M+U*(o/p);for(let n=0;n<d;n++){const i=b+F*(n/u);if(y[w++]=i,y[w++]=t,x){f.x=i,f.y=t;const o=r(f,e.spatialReference);y[w++]=e.elevationAt(o.x,o.y)??0}else y[w++]=e.elevationAt(i,t)??0;const a=n/u,s=o/p;R[g++]=a,R[g++]=s,o!==p&&n!==u&&(j[A++]=v+1,j[A++]=v+d+1,j[A++]=v+d,j[A++]=v,j[A++]=v+1,j[A++]=v+d),v++}}return new n({vertexAttributes:new s({position:y,uv:R}),components:[new a({faces:i(j),shading:\"smooth\",material:l?.material??null})],spatialReference:t.spatialReference})}async function u(e){return p(e)?e.load():(await e.load(),await Promise.allSettled(e.layers.items.map((e=>e.load()))),e)}function p(e){return\"type\"in e&&(\"elevation\"===e.type||\"base-elevation\"===e.type)}const f=new l;export{m as create};\n"],"names":["async","m","o","n","r","i","p","e","_r$demResolution","load","Promise","allSettled","layers","items","map","u","createElevationSampler","demResolution","c","material","t","getLogger","error","l","_l$demResolution","_l$material","spatialReference","min","Math","round","width","height","d","h","y","Float64Array","R","Float32Array","w","g","j","Uint32Array","v","A","x","equals","f","xmin","b","ymin","M","U","F","_e$elevationAt2","_e$elevationAt","elevationAt","a","s","vertexAttributes","position","uv","components","faces","shading","type"],"sourceRoot":""}